{% extends "index.html" %}

{% block content %}
<h2>Каталог товаров</h2>

<!-- Фильтр по категориям -->
<div class="categories-filter">
    <h3>Категории:</h3>
    <ul>
        <li><a href="{{ url_for('catalog') }}">Все категории</a></li>
        {% for category in categories %}
        <li><a href="{{ url_for('catalog_by_category', category_id=category.CategoryID) }}">{{ category.CategoryName }}</a></li>
        {% endfor %}
    </ul>
</div>

<!-- Список товаров -->
<div class="product-grid">
    {% for product in products %}
    <div class="product-card">
        <img src="{{ url_for('static', filename='images/' ~ product.Image) }}" alt="{{ product.ProductName }}" class="product-image">
        <h3>{{ product.ProductName }}</h3>
        <p class="product-price">{{ product.Price }} руб.</p>
        <p class="product-description">{{ product.Description | truncate(50) }}</p>
        <form action="{{ url_for('add_to_cart', product_id=product.ProductID) }}" method="POST">
            <button type="submit" class="add-to-cart-btn">Добавить в корзину</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}